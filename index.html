<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Glow On · Home</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    /* —— 仅本页用到的小样式 —— */

    /* 头部：把 LOGO 与导航放到左侧一行 */
    .site-header .top { display:flex; align-items:center; justify-content:space-between; }
    .site-header .left { display:flex; align-items:center; gap:14px; }
    .site-header .logo strong { display:none; } /* 只保留图标 */
    .site-header .logo img { height:26px; width:auto; display:block; }
    .site-header .nav { display:flex; gap:14px; flex-wrap:wrap; }
    .site-header .nav a { text-decoration:none; }

    /* 轮播 Banner（尺寸已缩小） */
    .banner.carousel { position:relative; overflow:hidden; border-radius:12px; margin:10px 0; }
    .banner.carousel .track { display:flex; width:100%; transition:transform .5s ease; }
    .banner.carousel .slide { flex:0 0 100%; }
    .banner.carousel img { width:100%; height:240px; object-fit:cover; display:block; cursor:pointer; border-radius:10px; }
    .banner.carousel .ctrl {
      position:absolute; inset:auto 8px 8px 8px; display:flex; gap:6px; justify-content:center;
    }
    .banner.carousel .dot {
      width:6px; height:6px; border-radius:999px; border:1px solid #111; background:#fff; opacity:.7;
    }
    .banner.carousel .dot[aria-current="true"] { background:#111; opacity:1; }

    @media (max-width:600px){
      .banner.carousel img { height:180px; }
    }

    /* 页脚：默认只显示中文行，英文行在切英文时由脚本切换 */
    .foot-row.en { display:none; }

    /* 商品卡片 */
    .card { display:block; border:1px solid #eee; border-radius:10px; overflow:hidden; text-decoration:none; color:inherit; }
    .card .thumb img { width:100%; display:block; }
    .card .content { padding:8px; }
    .card .title { font-weight:600; margin-bottom:4px; font-size:14px; }
    .card .price { font-weight:700; color:#b91c1c; font-size:14px; }
  </style>
</head>
<body data-page="home">
  <!-- Header -->
  <header class="site-header">
    <div class="container">
      <nav class="top">
        <!-- 左：LOGO + 导航（已移到左侧） -->
        <div class="left">
          <a href="index.html" class="logo">
            <img src="Archive/logo.png" alt="Glow On logo">
            <strong data-i18n="brand">Glow On</strong><!-- 已隐藏 -->
          </a>
          <div class="nav">
            <a href="index.html" data-i18n="nav_home">首頁</a>
            <a href="preorder.html" data-route="preorder" data-i18n="nav_preorder">精選預購</a>
            <a href="instock.html"  data-route="instock"  data-i18n="nav_instock">現貨專區</a>
            <a href="buyagent.html" data-route="service"  data-i18n="nav_service">澳洲代購服務</a>
          </div>
        </div>

        <!-- 右：动作 + 语言 -->
        <div class="actions">
          <a class="btn icon whatsapp" 
             href="https://wa.me/85297436663" 
             target="_blank" 
             rel="noopener" 
             title="WhatsApp" 
             aria-label="WhatsApp">
            <img src="Archive/whats.png" alt="WhatsApp" style="height:24px;width:24px;">
          </a>
          <a class="btn icon search" href="#" title="Search" aria-label="Search">🔍</a>
          <a class="btn icon login"  href="login.html" title="Login" aria-label="Login">👤</a>
          <a class="btn icon cart"   href="checkout.html" title="Cart" aria-label="Cart">🛒</a>

          <!-- 语言切换 -->
          <div class="lang">
            <button id="langBtn" class="lang-btn" type="button" aria-haspopup="menu" aria-expanded="false">
              <span aria-hidden="true">🌐</span>
              <span id="langLabel">繁體中文</span>
              <span class="caret" aria-hidden="true">▾</span>
            </button>
            <div class="lang-menu" id="langMenu" role="menu" hidden>
              <button role="menuitem" data-lc="zh-HK">繁體中文</button>
              <button role="menuitem" data-lc="en">English</button>
            </div>
          </div>

          <!-- 更多按钮（手机端） -->
          <button class="btn icon" id="moreBtn" aria-haspopup="menu" aria-expanded="false" title="更多">⋯</button>
          <div class="more-menu" id="moreMenu" hidden>
            <a class="item" href="https://wa.me/85297436663" target="_blank" rel="noopener">
              <img src="Archive/whats.png" alt="WhatsApp" style="height:18px;width:18px;vertical-align:middle;"> WhatsApp
            </a>
            <a class="item" href="#" id="moreSearch">🔍 Search</a>
            <a class="item" href="login.html">👤 Login</a>
            <a class="item" href="checkout.html">🛒 Cart</a>
            <div class="sep"></div>
            <button class="item" type="button" data-set-lc="zh-HK">繁體中文</button>
            <button class="item" type="button" data-set-lc="en">English</button>
          </div>
        </div>
      </nav>
    </div>
  </header>

  <main class="home">
    <div class="container">

      <!-- Banner：5 张自动轮播 -->
      <section class="banner carousel" aria-label="Promotions">
        <div class="track" id="carouselTrack">
          <div class="slide"><a href="preorder.html"><img src="Archive/Promo_Banner/1.png" alt="Promo 1"></a></div>
          <div class="slide"><a href="instock.html"><img src="Archive/Promo_Banner/2.png" alt="Promo 2"></a></div>
          <div class="slide"><a href="buyagent.html"><img src="Archive/Promo_Banner/3.png" alt="Promo 3"></a></div>
          <div class="slide"><a href="contact.html"><img src="Archive/Promo_Banner/4.png" alt="Promo 4"></a></div>
          <div class="slide"><a href="preorder.html"><img src="Archive/Promo_Banner/6.png" alt="Promo 5"></a></div>
        </div>
        <div class="ctrl" id="carouselDots" aria-label="Carousel Dots"></div>
      </section>

      <!-- 精選預購 -->
      <section>
        <div style="display:flex;align-items:center;justify-content:space-between">
          <h2 class="sec-title" data-i18n="section_preorder">精選預購</h2>
          <a href="preorder.html" data-route="preorder"><span data-i18n="view_all">查看全部</span> →</a>
        </div>
        <div class="grid" id="home-preorder"></div>
      </section>

      <!-- 現貨好物 -->
      <section>
        <div style="display:flex;align-items:center;justify-content:space-between">
          <h2 class="sec-title" data-i18n="section_instock">現貨好物</h2>
          <a href="instock.html" data-route="instock"><span data-i18n="view_all">查看全部</span> →</a>
        </div>
        <div class="grid" id="home-instock"></div>
      </section>

    </div>
  </main>

  <!-- Footer（新增“付款方式/Payment Methods”） -->
  <footer class="site-footer">
    <div class="container footer-box">
      <nav class="foot-row zh">
        <a href="terms.html"><b>條款及細則</b></a>
        <a href="privacy.html"><b>私隱政策</b></a>
        <a href="returns.html"><b>退換貨政策</b></a>
        <a href="process.html"><b>購買流程</b></a>
        <a href="payment.html"><b>付款方式</b></a>
        <a href="contact.html"><b>聯絡我們</b></a>
      </nav>
      <nav class="foot-row en">
        <a href="terms.html"><b>Terms &amp; Conditions</b></a>
        <a href="privacy.html"><b>Privacy Policy</b></a>
        <a href="returns.html"><b>Return &amp; Exchange Policy</b></a>
        <a href="process.html"><b>Shopping Process</b></a>
        <a href="payment.html"><b>Payment Methods</b></a>
        <a href="contact.html"><b>Contact Us</b></a>
      </nav>
      <div class="copy">2025 © Glow On HK. <span data-i18n="rights">All Rights Reserved.</span></div>
    </div>
  </footer>

  <script src="site.js"></script>
  <script>
    // —— 轮播：自动播放 + 小圆点（数量自动根据 slide 数量生成） —— //
    (function(){
      const track = document.getElementById('carouselTrack');
      const dotsWrap = document.getElementById('carouselDots');
      const total = track.children.length;
      let idx = 0, timer = null;

      for(let i=0;i<total;i++){
        const d=document.createElement('button');
        d.className='dot';
        d.type='button';
        d.setAttribute('aria-label','go to slide '+(i+1));
        d.addEventListener('click', ()=>go(i,true));
        dotsWrap.appendChild(d);
      }
      function render(){
        track.style.transform = `translateX(-${idx*100}%)`;
        [...dotsWrap.children].forEach((el,i)=>el.setAttribute('aria-current', i===idx?'true':'false'));
      }
      function go(i,stop){
        idx=(i+total)%total;
        render();
        if(stop){ auto(false); }
      }
      function auto(start=true){
        if(timer){ clearInterval(timer); timer=null; }
        if(start){ timer=setInterval(()=>go(idx+1,false), 3500); }
      }
      render();
      auto(true);
      track.parentElement.addEventListener('mouseenter', ()=>auto(false));
      track.parentElement.addEventListener('mouseleave', ()=>auto(true));
    })();

    // —— 首页卡片（点进去跳 product.html?pid=...） —— //
    const HOME_PREORDER = [
      { pid:'caruso-collagen-100g', img:'Archive/Untitled_design/14.png',
        zh:"Caruso's Total Beauty® 膠原蛋白（100g粉裝）", en:"Caruso’s Collagen (100g powder)", price:'HK$210' },
      { pid:'caruso-collagen-60tabs', img:'Archive/Untitled_design/15.png',
        zh:"Caruso's Total Beauty® 膠原蛋白（60片裝）", en:"Caruso’s Collagen (60 tablets)", price:'HK$210' },
      { pid:'ls-double-30', img:'Archive/Untitled_design/18.png',
        zh:'Life-Space 雙倍強度益生菌（30粒膠囊）', en:"Life-Space Double Strength Probiotic (30 caps)", price:'待定' },
      { pid:'ls-children-60g', img:'Archive/Untitled_design/19.png',
        zh:'Life-Space 兒童益生菌粉（60g）', en:"Life-Space Children Probiotic Powder (60g)", price:'待定' }
    ];
    const HOME_INSTOCK = [
      { pid:'puriti-mgo350-1kg', img:'Archive/Untitled_design/1.png',
        zh:'PURITI 麥盧卡蜜糖 MGO 350 (1kg)', en:"PURITI Manuka Honey MGO 350 (1kg)", price:'HK$430' },
      { pid:'hismile-mintchoc-60g', img:'Archive/Untitled_design/2.png',
        zh:'Hismile 薄荷朱古力味牙膏 60g', en:"Hismile Mint Chocolate Toothpaste 60g", price:'HK$65' },
      { pid:'pawpaw-balm-10ml', img:'Archive/Untitled_design/6.png',
        zh:'Dr. PAWPAW 潤唇膏 10ml', en:"Dr. PAWPAW Original Balm 10ml", price:'HK$55' },
      { pid:'t2-earlgrey-10', img:'Archive/Untitled_design/10.png',
        zh:'T2 French Earl Grey 茶包（10包）', en:"T2 French Earl Grey Teabags (10)", price:'HK$70' }
    ];

    function cardLinkHTML(item, lc){
      const title = (lc==='en') ? item.en : item.zh;
      const href = `product.html?pid=${encodeURIComponent(item.pid)}&lc=${lc}`;
      return `
      <a class="card" href="${href}">
        <div class="thumb"><img src="${item.img}" alt="${title}" loading="lazy"></div>
        <div class="content">
          <div class="title">${title}</div>
          <div class="price">${item.price}</div>
        </div>
      </a>`;
    }

    function renderHome(){
      const lc = getLocale();
      document.getElementById('home-preorder').innerHTML = HOME_PREORDER.map(x=>cardLinkHTML(x, lc)).join('');
      document.getElementById('home-instock').innerHTML  = HOME_INSTOCK.map(x=>cardLinkHTML(x, lc)).join('');

      // 根据语言切换页脚的中英行显示
      const zhRow = document.querySelector('.foot-row.zh');
      const enRow = document.querySelector('.foot-row.en');
      if (zhRow && enRow){
        if (lc === 'en'){ zhRow.style.display='none'; enRow.style.display='flex'; }
        else { zhRow.style.display='flex'; enRow.style.display='none'; }
      }
    }
    renderHome();
    window.addEventListener('locale-changed', renderHome);
  </script>
</body>
</html>