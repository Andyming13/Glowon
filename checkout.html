<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Glow On Â· è³¼ç‰©è»Š</title>
  <link rel="stylesheet" href="styles.css"/>
  <style>
    .container{max-width:1100px;margin:0 auto;padding:16px}
    table{width:100%;border-collapse:collapse;margin-top:20px}
    th,td{padding:12px;border-bottom:1px solid #e5e7eb;text-align:left}
    th{background:#f9fafb}
    td img{width:60px;height:60px;object-fit:contain;border:1px solid #eee;border-radius:8px}
    .qty-input{width:60px;padding:6px;text-align:center}
    .total{text-align:right;font-weight:800;font-size:18px;margin-top:20px}
    .empty{padding:30px;text-align:center;color:#666}
    .btn{padding:10px 14px;border:1px solid #e5e7eb;border-radius:10px;cursor:pointer}
    .btn.primary{background:#111;color:#fff;border-color:#111}
  </style>
</head>
<body>
  <!-- Headerï¼ˆä¸é¦–é¡µä¸€è‡´ï¼‰ -->
  <!-- ç»Ÿä¸€å¤´éƒ¨å¯¼èˆªï¼ˆå¤åˆ¶åˆ°æ¯ä¸ªé¡µé¢ï¼Œæ›¿æ¢åŸæ¥çš„ headerï¼‰ -->
<header class="site-header">
  <div class="container">
    <nav class="top">
      <!-- å·¦ï¼šLOGO -->
      <a href="index.html" class="logo">
        <img src="Archive/logo.png" alt="Glow On logo">
        <strong data-i18n="brand">Glow On</strong>
      </a>

      <!-- ä¸­ï¼šå¯¼èˆª -->
      <div class="nav">
        <a href="index.html" data-i18n="nav_home">é¦–é </a>
        <a href="preorder.html" data-route="preorder" data-i18n="nav_preorder">ç²¾é¸é è³¼</a>
        <a href="instock.html"  data-route="instock"  data-i18n="nav_instock">ç¾è²¨å°ˆå€</a>
        <a href="buyagent.html" data-route="service"  data-i18n="nav_service">æ¾³æ´²ä»£è³¼æœå‹™</a>
      </div>

      <!-- å³ï¼šåŠ¨ä½œ + è¯­è¨€ï¼ˆæ¡Œé¢ç«¯æ˜¾ç¤ºï¼‰ -->
      <div class="actions">
        <a class="btn icon whatsapp" href="https://wa.me/" target="_blank" rel="noopener" title="WhatsApp" aria-label="WhatsApp">ğŸŸ¢</a>
        <a class="btn icon search"   href="#" title="Search" aria-label="Search">ğŸ”</a>
        <a class="btn icon login"    href="login.html" title="Login" aria-label="Login">ğŸ‘¤</a>
        <a class="btn icon cart"     href="checkout.html" title="Cart" aria-label="Cart">ğŸ›’</a>

        <!-- è¯­è¨€åˆ‡æ¢ï¼ˆæ¡Œé¢ç«¯ï¼‰ -->
        <div class="lang">
          <button id="langBtn" class="lang-btn" type="button" aria-haspopup="menu" aria-expanded="false">
            <span aria-hidden="true">ğŸŒ</span>
            <span id="langLabel">ç¹é«”ä¸­æ–‡</span>
            <span class="caret" aria-hidden="true">â–¾</span>
          </button>
          <div class="lang-menu" id="langMenu" role="menu" hidden>
            <button role="menuitem" data-lc="zh-HK">ç¹é«”ä¸­æ–‡</button>
            <button role="menuitem" data-lc="en">English</button>
          </div>
        </div>

        <!-- æ‰‹æœºç«¯ï¼šæ›´å¤š(â‹¯) èœå•ï¼ˆ<520px æ—¶æ˜¾ç¤ºï¼‰ -->
        <button class="btn icon" id="moreBtn" aria-haspopup="menu" aria-expanded="false" title="æ›´å¤š">â‹¯</button>
        <div class="more-menu" id="moreMenu" hidden>
          <a class="item" href="https://wa.me/" target="_blank" rel="noopener">ğŸŸ¢ WhatsApp</a>
          <a class="item" href="#" id="moreSearch">ğŸ” Search</a>
          <a class="item" href="login.html">ğŸ‘¤ Login</a>
          <a class="item" href="checkout.html">ğŸ›’ Cart</a>
          <div class="sep"></div>
          <button class="item" type="button" data-set-lc="zh-HK">ç¹é«”ä¸­æ–‡</button>
          <button class="item" type="button" data-set-lc="en">English</button>
        </div>
      </div>
    </nav>
  </div>
</header>

  <main class="container">
    <h1>ğŸ›’ è³¼ç‰©è»Š</h1>
    <div id="cart-container"></div>
    <div class="total" id="cart-total"></div>
    <div style="text-align:right;margin-top:20px">
      <button class="btn primary" id="checkoutBtn">å»çµç®—</button>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="container footer-box">
      <div class="copy">2025 Â© Glow On HK. All Rights Reserved.</div>
    </div>
  </footer>

  <script>
    const CART_KEY='glowon-cart';
    const getCart=()=>{ try{ return JSON.parse(localStorage.getItem(CART_KEY))||[] }catch{ return [] } };
    const setCart=(c)=> localStorage.setItem(CART_KEY, JSON.stringify(c));

    function renderCart(){
      const cart = getCart();
      const container = document.getElementById('cart-container');
      const totalEl = document.getElementById('cart-total');

      if(cart.length===0){
        container.innerHTML = `<div class="empty">è³¼ç‰©è»Šæ˜¯ç©ºçš„</div>`;
        totalEl.textContent='';
        return;
      }

      let rows = cart.map((item,i)=>{
        const priceNum = parseFloat(item.price.replace(/[^0-9.]/g,'')) || 0;
        const subtotal = priceNum * item.qty;
        return `
        <tr>
          <td><img src="${item.img}" alt="${item.title}"></td>
          <td>${item.title}</td>
          <td>${item.price}</td>
          <td>
            <input type="number" class="qty-input" min="1" value="${item.qty}" 
                   onchange="updateQty(${i}, this.value)">
          </td>
          <td>HK$${subtotal.toFixed(2)}</td>
          <td><button class="btn" onclick="removeItem(${i})">ç§»é™¤</button></td>
        </tr>`;
      }).join('');

      container.innerHTML = `
        <table>
          <thead>
            <tr>
              <th>å•†å“</th><th>åç¨±</th><th>å–®åƒ¹</th><th>æ•¸é‡</th><th>å°è¨ˆ</th><th></th>
            </tr>
          </thead>
          <tbody>${rows}</tbody>
        </table>
      `;

      const total = cart.reduce((s,item)=>{
        const priceNum = parseFloat(item.price.replace(/[^0-9.]/g,'')) || 0;
        return s + priceNum*item.qty;
      },0);

      totalEl.textContent = "ç¸½è¨ˆï¼šHK$" + total.toFixed(2);
      document.getElementById('cartBadge').textContent = cart.reduce((s,x)=>s+x.qty,0);
    }

    function updateQty(index, value){
      let cart = getCart();
      cart[index].qty = Math.max(1, parseInt(value)||1);
      setCart(cart);
      renderCart();
    }

    function removeItem(index){
      let cart = getCart();
      cart.splice(index,1);
      setCart(cart);
      renderCart();
    }

    document.getElementById('checkoutBtn').onclick=()=>{
      alert("ğŸ§¾ çµç®—æµç¨‹ç¨å¾Œé–‹ç™¼ï¼Œç›®å‰åªæ˜¯å±•ç¤ºè³¼ç‰©è»Šã€‚");
    };

    renderCart();
  </script>
</body>
</html>